# Profile Ranking Position Feature

## Overview

Premium package tiers now include **guaranteed top profile positions** in search results and listings. Higher-tier packages ensure profiles appear at the top, maximizing visibility and engagement.

---

## ğŸ† Profile Ranking by Package

### Ultra Pro - Elite Positioning

| Tier | Price | Top Position | Visibility |
|------|-------|--------------|------------|
| **Platinum** | â‚¹50,000 | **Top 5-7** | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸ Elite |
| **Gold** | â‚¹35,000 | **Top 12** | ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ Premium+ |
| **Silver** | â‚¹25,000 | **Top 25** | ğŸŒŸğŸŒŸğŸŒŸ Premium |

**Benefits**:
- âœ… Guaranteed placement in top positions
- âœ… Maximum visibility to all users
- âœ… First profiles seen in searches
- âœ… Higher engagement rates
- âœ… Premium badge display

---

### Pro - Priority Positioning

| Tier | Price | Top Position | Visibility |
|------|-------|--------------|------------|
| **Platinum** | â‚¹15,000 | **Top 50** | ğŸŒŸğŸŒŸğŸŒŸ High |
| **Gold** | â‚¹10,000 | **Top 100** | ğŸŒŸğŸŒŸ Medium-High |
| **Silver** | â‚¹5,000 | **Top 150** | ğŸŒŸ Medium |

**Benefits**:
- âœ… Guaranteed placement in top 150 or better
- âœ… Higher visibility than free users
- âœ… Better engagement potential
- âœ… Professional badge display

---

### Pro Lite & Free - Standard Positioning

| Package | Position | Visibility |
|---------|----------|------------|
| **Pro Lite** (All tiers) | No guarantee | Standard |
| **Free** (All tiers) | No guarantee | Standard |

**Note**: Profiles appear based on other ranking factors (activity, completeness, etc.)

---

## ğŸ“Š Visual Representation

### Search Results Display

```
ğŸ” SEARCH RESULTS

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŒŸ TOP 5-7 (Ultra Pro Platinum)    â”‚ â† Most visible
â”‚ â­ Profile 1                        â”‚
â”‚ â­ Profile 2                        â”‚
â”‚ â­ Profile 3                        â”‚
â”‚ â­ Profile 4                        â”‚
â”‚ â­ Profile 5                        â”‚
â”‚ â­ Profile 6                        â”‚
â”‚ â­ Profile 7                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒŸ TOP 8-12 (Ultra Pro Gold)       â”‚
â”‚ â­ Profile 8                        â”‚
â”‚ â­ Profile 9                        â”‚
â”‚ â­ Profile 10                       â”‚
â”‚ â­ Profile 11                       â”‚
â”‚ â­ Profile 12                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸŒŸ TOP 13-25 (Ultra Pro Silver)    â”‚
â”‚ â­ Profiles 13-25                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¼ TOP 26-50 (Pro Platinum)        â”‚
â”‚ â€¢ Profiles 26-50                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¼ TOP 51-100 (Pro Gold)           â”‚
â”‚ â€¢ Profiles 51-100                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’¼ TOP 101-150 (Pro Silver)        â”‚
â”‚ â€¢ Profiles 101-150                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ Standard (Pro Lite & Free)      â”‚ â† Less visible
â”‚ â€¢ Profiles 151+                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ How It Works

### 1. **Ranking Algorithm**

```typescript
// Pseudo-code for profile ranking
function rankProfiles(profiles) {
    return profiles.sort((a, b) => {
        // 1. First, sort by profileRankingPosition (lower = better)
        if (a.profileRankingPosition !== b.profileRankingPosition) {
            return a.profileRankingPosition - b.profileRankingPosition;
        }
        
        // 2. Within same tier, sort by other factors
        // - Profile completeness
        // - Activity level
        // - Rating/reviews
        // - Join date
        
        return compareSecondaryFactors(a, b);
    });
}
```

### 2. **Position Guarantee**

- **Ultra Pro Platinum**: Always in positions 1-7
- **Ultra Pro Gold**: Always in positions 8-12
- **Ultra Pro Silver**: Always in positions 13-25
- **Pro Platinum**: Always in positions 26-50
- **Pro Gold**: Always in positions 51-100
- **Pro Silver**: Always in positions 101-150
- **Pro Lite & Free**: Position 151+ (based on other factors)

### 3. **Tie-Breaking**

When multiple users have the same `profileRankingPosition`:
1. Profile completeness (100% > 90% > 80%)
2. Activity score (recent activity ranked higher)
3. User rating/reviews
4. Account age (newer accounts ranked higher for freshness)

---

## ğŸ’¡ Implementation

### Backend - Sorting Profiles

```javascript
// routes/profiles.js
router.get('/search', async (req, res) => {
    try {
        const profiles = await User.find({ role: 'advocate' })
            .populate('package')
            .lean();
        
        // Sort by profile ranking position
        const sortedProfiles = profiles.sort((a, b) => {
            const posA = a.package?.profileRankingPosition || 999;
            const posB = b.package?.profileRankingPosition || 999;
            
            if (posA !== posB) {
                return posA - posB; // Lower position = higher rank
            }
            
            // Tie-breaker: profile completeness
            return (b.profileCompleteness || 0) - (a.profileCompleteness || 0);
        });
        
        res.json(sortedProfiles);
    } catch (error) {
        res.status(500).json({ error: error.message });
    }
});
```

### Frontend - Display Ranking Badge

```tsx
// components/ProfileCard.tsx
import { usePackageRestrictions } from '../hooks/usePackageRestrictions';

const ProfileCard = ({ profile }) => {
    const { features } = usePackageRestrictions();
    
    const getRankingBadge = (position: number) => {
        if (position <= 7) return { text: 'Top 5-7', color: 'gold', icon: 'ğŸ‘‘' };
        if (position <= 12) return { text: 'Top 12', color: 'platinum', icon: 'ğŸ’' };
        if (position <= 25) return { text: 'Top 25', color: 'silver', icon: 'â­' };
        if (position <= 50) return { text: 'Top 50', color: 'blue', icon: 'ğŸ†' };
        if (position <= 100) return { text: 'Top 100', color: 'blue', icon: 'ğŸ¯' };
        if (position <= 150) return { text: 'Top 150', color: 'blue', icon: 'ğŸ“Œ' };
        return null;
    };
    
    const badge = getRankingBadge(features.profileRankingPosition);
    
    return (
        <div className="profile-card">
            {badge && (
                <div className={`ranking-badge ${badge.color}`}>
                    <span>{badge.icon}</span>
                    <span>{badge.text}</span>
                </div>
            )}
            {/* Profile content */}
        </div>
    );
};
```

---

## ğŸ“ˆ Benefits by Tier

### Ultra Pro Platinum (Top 5-7)
- âœ… **Maximum Visibility**: Seen by 95%+ of users
- âœ… **First Impression**: Always in first screen
- âœ… **Elite Status**: Gold badge with crown icon
- âœ… **Highest Engagement**: 10x more profile views
- âœ… **Premium Placement**: Featured in all searches

### Ultra Pro Gold (Top 12)
- âœ… **Excellent Visibility**: Seen by 90%+ of users
- âœ… **Top Screen**: Usually in first screen
- âœ… **Premium Status**: Platinum badge with diamond icon
- âœ… **High Engagement**: 7x more profile views

### Ultra Pro Silver (Top 25)
- âœ… **Great Visibility**: Seen by 80%+ of users
- âœ… **First Page**: Always on first page
- âœ… **Premium Status**: Silver badge with star icon
- âœ… **Good Engagement**: 5x more profile views

### Pro Platinum (Top 50)
- âœ… **Good Visibility**: Seen by 60%+ of users
- âœ… **Early Pages**: Within first 2-3 pages
- âœ… **Professional Status**: Blue badge with trophy icon
- âœ… **Better Engagement**: 3x more profile views

### Pro Gold (Top 100)
- âœ… **Decent Visibility**: Seen by 40%+ of users
- âœ… **Mid Pages**: Within first 5 pages
- âœ… **Professional Status**: Blue badge with target icon
- âœ… **Improved Engagement**: 2x more profile views

### Pro Silver (Top 150)
- âœ… **Fair Visibility**: Seen by 30%+ of users
- âœ… **Visible Pages**: Within first 8 pages
- âœ… **Professional Status**: Blue badge with pin icon
- âœ… **Enhanced Engagement**: 1.5x more profile views

---

## ğŸ¨ Badge Design

### CSS Styling

```css
.ranking-badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.ranking-badge.gold {
    background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
    color: #000;
    border: 2px solid #FFD700;
}

.ranking-badge.platinum {
    background: linear-gradient(135deg, #E5E4E2 0%, #C0C0C0 100%);
    color: #000;
    border: 2px solid #E5E4E2;
}

.ranking-badge.silver {
    background: linear-gradient(135deg, #C0C0C0 0%, #A8A8A8 100%);
    color: #000;
    border: 2px solid #C0C0C0;
}

.ranking-badge.blue {
    background: linear-gradient(135deg, #3b82f6 0%, #60a5fa 100%);
    color: white;
    border: 2px solid #3b82f6;
}
```

---

## ğŸ“Š Configuration Summary

| Package | Tier | Price | Position | Badge | Icon |
|---------|------|-------|----------|-------|------|
| Ultra Pro | Platinum | â‚¹50,000 | Top 5-7 | Gold | ğŸ‘‘ |
| Ultra Pro | Gold | â‚¹35,000 | Top 12 | Platinum | ğŸ’ |
| Ultra Pro | Silver | â‚¹25,000 | Top 25 | Silver | â­ |
| Pro | Platinum | â‚¹15,000 | Top 50 | Blue | ğŸ† |
| Pro | Gold | â‚¹10,000 | Top 100 | Blue | ğŸ¯ |
| Pro | Silver | â‚¹5,000 | Top 150 | Blue | ğŸ“Œ |
| Pro Lite | All | â‚¹500-1,500 | No guarantee | - | - |
| Free | All | â‚¹0 | No guarantee | - | - |

---

## ğŸš€ Next Steps

1. **Backend Implementation**
   - Add `profileRankingPosition` to User model
   - Update search/listing endpoints to sort by position
   - Implement tie-breaking logic

2. **Frontend Implementation**
   - Display ranking badges on profiles
   - Show position in profile settings
   - Add upgrade prompts for better positions

3. **Analytics**
   - Track profile view rates by position
   - Measure engagement by tier
   - A/B test badge designs

---

## Date Created
2026-01-30

## Status
âœ… **Configuration Complete - Ready for Implementation**
